import{_ as U}from"./PageContainer-Ep9YLR5U.js";import{a as g,l as w,A as x,e as A}from"./element-plus-DI_bgyNY.js";import{u as E,d as R}from"./index-B1nXIkEK.js";import{F as c,H as B}from"./@element-plus-CxMXKtfz.js";import{_ as S}from"./plugin-vueexport-helper-DlAUqK2U.js";import{r as u,R as m,Q as o,o as r,M as a,c as b,u as s,U as _}from"./@vue-BIhkC9RN.js";import"./lodash-es-CxpLErxa.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-D3_Zpga0.js";import"./dayjs-CxMP4GVf.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-_JLQ5g36.js";import"./vue-demi-Dq6ymT-8.js";import"./pinia-plugin-persistedstate-BQU3TZ4K.js";import"./destr-CVtkxrq9.js";import"./deep-pick-omit-CegYQlcN.js";import"./axios-CCb-kr4I.js";import"./vue-router-jgiCMz-_.js";const C=["src"],F={__name:"UserAvatar",setup(I){const l=E(),t=u("");t.value=l.user.user_pic;const n=u(),d=p=>{const e=new FileReader;e.readAsDataURL(p.raw),e.onload=()=>{t.value=e.result}},f=async()=>{await R(t.value),await l.getUser(),g.success("上传头像成功")};return(p,e)=>{const v=w,k=x,i=A,y=U;return r(),m(y,{title:"更换头像"},{default:o(()=>[a(k,{ref_key:"uploadRef",ref:n,"on-change":d,style:{"margin-bottom":"20px"},"auto-upload":!1,"show-file-list":!1,class:"avatar-uploader"},{default:o(()=>[t.value?(r(),b("img",{key:0,src:t.value,class:"avatar"},null,8,C)):(r(),m(v,{key:1,class:"avatar-uploader-icon"},{default:o(()=>[a(s(c))]),_:1}))]),_:1},512),a(i,{type:"primary",icon:s(c),onClick:e[0]||(e[0]=M=>n.value.$el.querySelector("input").click())},{default:o(()=>e[1]||(e[1]=[_(" 选择图片 ")])),_:1},8,["icon"]),a(i,{type:"success",icon:s(B),onClick:f},{default:o(()=>e[2]||(e[2]=[_(" 上传头像 ")])),_:1},8,["icon"])]),_:1})}}},h=S(F,[["__scopeId","data-v-02aa04be"]]);export{h as default};
