import{_ as f}from"./PageContainer-Ep9YLR5U.js";import{a as g,d as v,c as V,e as k,g as U}from"./element-plus-DI_bgyNY.js";import{u as b,e as y}from"./index-B1nXIkEK.js";import{r as u,R as w,Q as a,o as x,M as e,U as E}from"./@vue-BIhkC9RN.js";import"./plugin-vueexport-helper-DlAUqK2U.js";import"./lodash-es-CxpLErxa.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-D3_Zpga0.js";import"./dayjs-CxMP4GVf.js";import"./@element-plus-CxMXKtfz.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-_JLQ5g36.js";import"./vue-demi-Dq6ymT-8.js";import"./pinia-plugin-persistedstate-BQU3TZ4K.js";import"./destr-CVtkxrq9.js";import"./deep-pick-omit-CegYQlcN.js";import"./axios-CCb-kr4I.js";import"./vue-router-jgiCMz-_.js";const L={__name:"UserProfile",setup(S){const r=b(),s=u(),t=u({username:r.user.username,nickname:r.user.nickname,email:r.user.email,id:r.user.id}),i={nickname:[{required:!0,message:"昵称不能为空",trigger:"change"},{pattern:/^\S{2,10}$/,message:"昵称长度为2-10个非空字符",trigger:"change"}],email:[{required:!0,message:"邮箱不能为空",trigger:"change"},{type:"email",message:"请输入有效的邮箱地址",trigger:"change"}]},p=async()=>{await s.value.validate(),await y(t.value),r.getUser(),g.success("修改成功")};return(B,o)=>{const n=v,m=V,d=k,_=U,c=f;return x(),w(c,{title:"基本资料"},{default:a(()=>[e(_,{ref_key:"formRef",ref:s,model:t.value,rules:i,"label-width":"100px",style:{width:"40%"}},{default:a(()=>[e(m,{label:"登录名称",prop:"username"},{default:a(()=>[e(n,{modelValue:t.value.username,"onUpdate:modelValue":o[0]||(o[0]=l=>t.value.username=l),disabled:""},null,8,["modelValue"])]),_:1}),e(m,{label:"用户昵称",prop:"nickname"},{default:a(()=>[e(n,{modelValue:t.value.nickname,"onUpdate:modelValue":o[1]||(o[1]=l=>t.value.nickname=l)},null,8,["modelValue"])]),_:1}),e(m,{label:"用户邮箱",prop:"email"},{default:a(()=>[e(n,{modelValue:t.value.email,"onUpdate:modelValue":o[2]||(o[2]=l=>t.value.email=l)},null,8,["modelValue"])]),_:1}),e(m,null,{default:a(()=>[e(d,{type:"primary",onClick:p},{default:a(()=>o[3]||(o[3]=[E(" 提交修改 ")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{L as default};
