import{_ as f}from"./PageContainer-Du2mzkBT.js";import{s as g,q as u,a as v,w as t,o as V,v as e,y as k,b$ as E,E as b}from"./index-Dj-vxTPI.js";import{E as y,a as U}from"./el-form-item-DT9y2vno.js";import{E as w}from"./_plugin-vue_export-helper-Bfsc_OLY.js";import{E as x}from"./el-input-CpnaqEIr.js";import"./el-message-DW9O5xMv.js";const R={__name:"UserProfile",setup(S){const o=g(),m=u(),a=u({username:o.user.username,nickname:o.user.nickname,email:o.user.email,id:o.user.id}),i={nickname:[{required:!0,message:"昵称不能为空",trigger:"change"},{pattern:/^\S{2,10}$/,message:"昵称长度为2-10个非空字符",trigger:"change"}],email:[{required:!0,message:"邮箱不能为空",trigger:"change"},{type:"email",message:"请输入有效的邮箱地址",trigger:"change"}]},p=async()=>{await m.value.validate(),await E(a.value),o.getUser(),b.success("修改成功")};return(q,l)=>{const s=x,n=y,d=w,_=U,c=f;return V(),v(c,{title:"基本资料"},{default:t(()=>[e(_,{ref_key:"formRef",ref:m,model:a.value,rules:i,"label-width":"100px",style:{width:"40%"}},{default:t(()=>[e(n,{label:"登录名称",prop:"username"},{default:t(()=>[e(s,{modelValue:a.value.username,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value.username=r),disabled:""},null,8,["modelValue"])]),_:1}),e(n,{label:"用户昵称",prop:"nickname"},{default:t(()=>[e(s,{modelValue:a.value.nickname,"onUpdate:modelValue":l[1]||(l[1]=r=>a.value.nickname=r)},null,8,["modelValue"])]),_:1}),e(n,{label:"用户邮箱",prop:"email"},{default:t(()=>[e(s,{modelValue:a.value.email,"onUpdate:modelValue":l[2]||(l[2]=r=>a.value.email=r)},null,8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(d,{type:"primary",onClick:p},{default:t(()=>l[3]||(l[3]=[k(" 提交修改 ")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{R as default};
