import{b as U,d as E,u as B,c as g,p as z,o as w,a as b,w as a,r as P,n as q,e as d,f as I,g as K,_ as T,h as A,i as y,m as v,j as J,k as O,l as G,q as k,s as H,t as Q,v as t,x as C,y as c,z as W,E as h,A as X,B as Y,C as L,D as N}from"./index-4bJ1JJ2F.js";import{E as Z}from"./el-checkbox-sG05aC1w.js";import{E as ee,a as se}from"./el-form-item-BHFjbLh1.js";import{E as te}from"./el-link-BqhHRNm6.js";import{_ as ae,E as le}from"./_plugin-vue_export-helper-B4V0kNGH.js";import{E as oe}from"./el-input-CyZCGOUE.js";import"./el-message-CvJ2GjTm.js";import"./isEqual-CjjpAgkx.js";const D=Symbol("rowContextKey"),re=["start","center","end","space-around","space-between","space-evenly"],ne=["top","middle","bottom"],ue=U({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:re,default:"start"},align:{type:String,values:ne}}),pe=E({name:"ElRow"}),de=E({...pe,props:ue,setup(x){const o=x,n=B("row"),s=g(()=>o.gutter);z(D,{gutter:s});const m=g(()=>{const l={};return o.gutter&&(l.marginRight=l.marginLeft=`-${o.gutter/2}px`),l}),i=g(()=>[n.b(),n.is(`justify-${o.justify}`,o.justify!=="start"),n.is(`align-${o.align}`,!!o.align)]);return(l,$)=>(w(),b(K(l.tag),{class:q(d(i)),style:I(d(m))},{default:a(()=>[P(l.$slots,"default")]),_:3},8,["class","style"]))}});var fe=T(de,[["__file","row.vue"]]);const ie=A(fe),me=U({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:y([Number,Object]),default:()=>v({})},sm:{type:y([Number,Object]),default:()=>v({})},md:{type:y([Number,Object]),default:()=>v({})},lg:{type:y([Number,Object]),default:()=>v({})},xl:{type:y([Number,Object]),default:()=>v({})}}),ce=E({name:"ElCol"}),ge=E({...ce,props:me,setup(x){const o=x,{gutter:n}=J(D,{gutter:g(()=>0)}),s=B("col"),m=g(()=>{const l={};return n.value&&(l.paddingLeft=l.paddingRight=`${n.value/2}px`),l}),i=g(()=>{const l=[];return["span","offset","pull","push"].forEach(r=>{const e=o[r];O(e)&&(r==="span"?l.push(s.b(`${o[r]}`)):e>0&&l.push(s.b(`${r}-${o[r]}`)))}),["xs","sm","md","lg","xl"].forEach(r=>{O(o[r])?l.push(s.b(`${r}-${o[r]}`)):G(o[r])&&Object.entries(o[r]).forEach(([e,f])=>{l.push(e!=="span"?s.b(`${r}-${e}-${f}`):s.b(`${r}-${f}`))})}),n.value&&l.push(s.is("guttered")),[s.b(),l]});return(l,$)=>(w(),b(K(l.tag),{class:q(d(i)),style:I(d(m))},{default:a(()=>[P(l.$slots,"default")]),_:3},8,["class","style"]))}});var _e=T(ge,[["__file","col.vue"]]);const ye=A(_e),ve={class:"flex"},we={__name:"LoginPage",setup(x){const o=k(!1),n=k(),s=k({username:"",password:"",repassword:""}),m={username:[{required:!0,message:"请输入用户名",trigger:"change"},{min:5,max:10,message:"用户名必须是5-10位的字符",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"change"}],repassword:[{required:!0,message:"请输入密码",trigger:"change"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"change"},{validator:(r,e,f)=>{e!==s.value.password?f(new Error("两次输入的密码不一致")):f()}}]},i=H(),l=async()=>{await n.value.validate(),await W(s.value),i.password=s.value.password,h.success("注册成功"),o.value=!1},$=X(),j=async()=>{await n.value.validate();const r=await Y(s.value);i.setToken(r.data.token),i.password=s.value.password,h.success("登录成功"),$.push("/")};return Q(o,()=>{s.value={username:"",password:"",repassword:""}}),(r,e)=>{const f=ye,u=ee,_=oe,R=le,V=te,S=se,F=Z,M=ie;return w(),b(M,{class:"login-page"},{default:a(()=>[t(f,{span:12,class:"bg"}),t(f,{span:6,offset:3,class:"form"},{default:a(()=>[o.value?(w(),b(S,{key:0,ref_key:"formRef",ref:n,model:s.value,rules:m,size:"large",autocomplete:"off"},{default:a(()=>[t(u,null,{default:a(()=>e[7]||(e[7]=[C("h1",null,"注册",-1)])),_:1}),t(u,{prop:"username"},{default:a(()=>[t(_,{modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=p=>s.value.username=p),"prefix-icon":d(L),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),t(u,{prop:"password"},{default:a(()=>[t(_,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=p=>s.value.password=p),"prefix-icon":d(N),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),t(u,{prop:"repassword"},{default:a(()=>[t(_,{modelValue:s.value.repassword,"onUpdate:modelValue":e[2]||(e[2]=p=>s.value.repassword=p),"prefix-icon":d(N),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),t(u,null,{default:a(()=>[t(R,{class:"button",type:"primary","auto-insert-space":"",onClick:l},{default:a(()=>e[8]||(e[8]=[c(" 注册 ")])),_:1})]),_:1}),t(u,{class:"flex"},{default:a(()=>[t(V,{type:"info",underline:!1,onClick:e[3]||(e[3]=p=>o.value=!1)},{default:a(()=>e[9]||(e[9]=[c(" ← 返回 ")])),_:1})]),_:1})]),_:1},8,["model"])):(w(),b(S,{key:1,ref_key:"formRef",ref:n,model:s.value,rules:m,size:"large",autocomplete:"off"},{default:a(()=>[t(u,null,{default:a(()=>e[10]||(e[10]=[C("h1",null,"登录",-1)])),_:1}),t(u,{prop:"username"},{default:a(()=>[t(_,{modelValue:s.value.username,"onUpdate:modelValue":e[4]||(e[4]=p=>s.value.username=p),"prefix-icon":d(L),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),t(u,{prop:"password"},{default:a(()=>[t(_,{modelValue:s.value.password,"onUpdate:modelValue":e[5]||(e[5]=p=>s.value.password=p),name:"password","prefix-icon":d(N),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),t(u,{class:"flex"},{default:a(()=>[C("div",ve,[t(F,null,{default:a(()=>e[11]||(e[11]=[c("记住我")])),_:1}),t(V,{type:"primary",underline:!1},{default:a(()=>e[12]||(e[12]=[c(" 忘记密码？ ")])),_:1})])]),_:1}),t(u,null,{default:a(()=>[t(R,{class:"button",type:"primary","auto-insert-space":"",onClick:j},{default:a(()=>e[13]||(e[13]=[c(" 登录 ")])),_:1})]),_:1}),t(u,{class:"flex"},{default:a(()=>[t(V,{type:"info",underline:!1,onClick:e[6]||(e[6]=p=>o.value=!0)},{default:a(()=>e[14]||(e[14]=[c(" 注册 → ")])),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},je=ae(we,[["__scopeId","data-v-7ecba66d"]]);export{je as default};
